<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>THC Podcasts</ion-title>
    <ion-buttons end>
      <button ion-button>
      <ion-icon (click)="Search()" name="search" end></ion-icon>
    </button>
    </ion-buttons>
    
  </ion-navbar>
</ion-header>

<ion-content padding class="card-background-page">
  <ion-refresher (ionRefresh)="ForceReload($event)">
    <ion-refresher-content
      pullingIcon="arrow-dropdown"
      pullingText="Pull to refresh"
      refreshingSpinner="crescent"
      refreshingText="checking for new podcasts...">
    </ion-refresher-content>
  </ion-refresher>
<div *ngIf="rssDataArray.podcasts">
  <ion-card *ngFor="let podcast of rssDataArray.podcasts">
    <img src="assets/imgs/Original_Logo_iTunes3.jpg" class="tinted">
  
    <h3 class="card-title">
        {{ReFormat(podcast.title, 0)}}
    </h3>

    <p class="card-date">
      {{podcast.pubDate | slice:5:7}}/{{podcast.pubDate | slice:8:10}}/{{podcast.pubDate | slice:0:4}}
    </p>

    <h5 class="card-subtitle">
      {{ReFormat(podcast.title, 1)}}
    </h5>

    <button ion-button color="light" round class="downloadbtn" (click)="Download(podcast.mp3, podcast.pubDate)">
      <ion-icon name='md-download' is-active="false"></ion-icon>
    </button>
    <button (click)="addToFav(podcast)" ion-button color="light" clear icon-only class="favbtn">
      <ion-icon *ngIf="podcast.userData.favorite" name='star' is-active="true"></ion-icon>
      <ion-icon *ngIf="!podcast.userData.favorite" name='star-outline' is-active="true"></ion-icon>
    </button>

    <button ion-button  color="green" round align-item-start class="playbtn" (click)="PlayPodcast(podcast.pubDate, podcast.mp3, ReFormat(podcast.title, 0), ReFormat(podcast.title, 1), 0)">
        <ion-icon name='md-play' is-active="false"></ion-icon>
    </button>
  
  </ion-card>
</div>
  

</ion-content>

